<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitFlow - Guided Fitness & Yoga</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc;
            min-height: 100vh;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .pose-image {
            transition: transform 0.3s ease;
        }
        
        .pose-image:hover {
            transform: scale(1.05);
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
        
        .breathing-animation {
            animation: pulse 4s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="text-gray-800">
    <!-- Navigation -->
    <nav class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-heartbeat text-2xl"></i>
                <span class="text-xl font-bold">FitFlow</span>
            </div>
            <div class="hidden md:flex space-x-6">
                <a href="#" class="hover:text-gray-200 transition">Home</a>
                <a href="#yoga" class="hover:text-gray-200 transition">Yoga</a>
                <a href="#workout" class="hover:text-gray-200 transition">Workouts</a>
            </div>
            <button class="md:hidden text-xl">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="gradient-bg text-white py-16 md:py-24">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">Find Your Flow</h1>
            <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">Guided yoga and workout routines to help you build strength, flexibility, and mindfulness.</p>
            <div class="flex flex-col md:flex-row justify-center gap-4">
                <a href="#yoga" class="bg-white text-indigo-700 hover:bg-gray-100 px-8 py-3 rounded-full font-semibold transition shadow-lg">
                    <i class="fas fa-spa mr-2"></i> Start Yoga
                </a>
                <a href="#workout" class="bg-indigo-800 hover:bg-indigo-700 text-white px-8 py-3 rounded-full font-semibold transition shadow-lg">
                    <i class="fas fa-dumbbell mr-2"></i> Start Workout
                </a>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">Why Choose FitFlow</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-gray-50 p-6 rounded-xl shadow-sm hover:shadow-md transition text-center">
                    <div class="text-indigo-600 text-4xl mb-4">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Structured Sessions</h3>
                    <p class="text-gray-600">Follow guided sequences with automatic timers for each pose or exercise.</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl shadow-sm hover:shadow-md transition text-center">
                    <div class="text-indigo-600 text-4xl mb-4">
                        <i class="fas fa-spa"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Mind & Body</h3>
                    <p class="text-gray-600">Combine physical movement with mindfulness for holistic wellness.</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl shadow-sm hover:shadow-md transition text-center">
                    <div class="text-indigo-600 text-4xl mb-4">
                        <i class="fas fa-music"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Audio Guidance</h3>
                    <p class="text-gray-600">Audio cues help you stay focused without looking at the screen.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Yoga Programs -->
    <section id="yoga" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">Yoga Programs</h2>
                <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium">View All</a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Yoga Program Card 1 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
                    <div class="h-48 bg-indigo-100 flex items-center justify-center">
                        <img src="https://images.unsplash.com/photo-1545205597-3d9d02c29597?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                             alt="Pranayama Breathing" class="w-full h-full object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Pranayama Breathing</h3>
                        <p class="text-gray-600 mb-4">Guided breathing exercises to calm the mind and energize the body.</p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center text-gray-500">
                                <i class="fas fa-clock mr-2"></i>
                                <span>15 min</span>
                            </div>
                            <button onclick="showYogaDetails('pranayama')" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-full text-sm font-medium transition">
                                Start Session
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Yoga Program Card 2 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
                    <div class="h-48 bg-indigo-100 flex items-center justify-center">
                        <img src="https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1520&q=80" 
                             alt="Morning Stretch" class="w-full h-full object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Morning Stretch</h3>
                        <p class="text-gray-600 mb-4">Gentle yoga sequence to wake up your body and prepare for the day.</p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center text-gray-500">
                                <i class="fas fa-clock mr-2"></i>
                                <span>20 min</span>
                            </div>
                            <button onclick="showYogaDetails('morning')" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-full text-sm font-medium transition">
                                Start Session
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Yoga Program Card 3 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
                    <div class="h-48 bg-indigo-100 flex items-center justify-center">
                        <img src="https://images.unsplash.com/photo-1545389336-cf090694435e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1528&q=80" 
                             alt="Evening Relaxation" class="w-full h-full object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Evening Relaxation</h3>
                        <p class="text-gray-600 mb-4">Calming poses to release tension and prepare for restful sleep.</p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center text-gray-500">
                                <i class="fas fa-clock mr-2"></i>
                                <span>25 min</span>
                            </div>
                            <button onclick="showYogaDetails('evening')" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-full text-sm font-medium transition">
                                Start Session
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Workout Programs -->
    <section id="workout" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">Workout Programs</h2>
                <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium">View All</a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Workout Program Card 1 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
                    <div class="h-48 bg-indigo-100 flex items-center justify-center">
                        <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                             alt="Full Body Beginner" class="w-full h-full object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Full Body Beginner</h3>
                        <p class="text-gray-600 mb-4">Complete workout targeting all major muscle groups for beginners.</p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center text-gray-500">
                                <i class="fas fa-clock mr-2"></i>
                                <span>30 min</span>
                            </div>
                            <button onclick="showWorkoutDetails('fullbody')" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-full text-sm font-medium transition">
                                Start Session
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Workout Program Card 2 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
                    <div class="h-48 bg-indigo-100 flex items-center justify-center">
                        <img src="https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" 
                             alt="HIIT Quick Burn" class="w-full h-full object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">HIIT Quick Burn</h3>
                        <p class="text-gray-600 mb-4">High intensity interval training to maximize calorie burn in minimal time.</p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center text-gray-500">
                                <i class="fas fa-clock mr-2"></i>
                                <span>20 min</span>
                            </div>
                            <button onclick="showWorkoutDetails('hiit')" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-full text-sm font-medium transition">
                                Start Session
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Workout Program Card 3 -->
                <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
                    <div class="h-48 bg-indigo-100 flex items-center justify-center">
                        <img src="assets/images/core-strength.jpg" 
                             alt="Core Strength" class="w-full h-full object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Core Strength</h3>
                        <p class="text-gray-600 mb-4">Targeted exercises to build a strong, stable core.</p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center text-gray-500">
                                <i class="fas fa-clock mr-2"></i>
                                <span>25 min</span>
                            </div>
                            <button onclick="showWorkoutDetails('core')" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-full text-sm font-medium transition">
                                Start Session
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Program Detail Modal -->
    <div id="programDetailModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h2 id="programTitle" class="text-2xl font-bold"></h2>
                    <button onclick="hideProgramDetails()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div id="programImage" class="h-48 bg-gray-100 rounded-lg mb-6 flex items-center justify-center">
                    <!-- Image will be inserted here -->
                </div>
                
                <p id="programDescription" class="text-gray-700 mb-6"></p>
                
                <h3 class="text-lg font-semibold mb-3">Sequence</h3>
                <div id="programSequence" class="space-y-3 mb-6">
                    <!-- Sequence items will be inserted here -->
                </div>
                
                <div class="flex justify-end">
                    <button id="startSessionBtn" onclick="startSession()" class="gradient-bg hover:opacity-90 text-white px-6 py-3 rounded-full font-semibold transition shadow-lg">
                        Start Session <i class="fas fa-play ml-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="yogaAudio" src="assets/music/yoga.mp3"></audio>
    <audio id="workoutAudio" src="assets/music/workout.mp3"></audio>

    <!-- YouTube Video Embeds -->
    <div id="yogaVideo" class="hidden">
        <iframe width="100%" height="300" src="https://www.youtube.com/embed/eGAMRXIHmFo?start=268" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div id="workoutVideo" class="hidden">
        <iframe width="100%" height="300" src="https://www.youtube.com/embed/cjMmM3ytBVU?start=545" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>

    <!-- Session Page (hidden by default) -->
    <div id="sessionPage" class="fixed inset-0 bg-white z-50 hidden flex flex-col">
        <div class="container mx-auto px-4 py-8 flex-grow flex flex-col">
            <!-- Session Header -->
            <div class="flex justify-between items-center mb-6">
                <button onclick="exitSession()" class="text-gray-600 hover:text-gray-800">
                    <i class="fas fa-arrow-left mr-2"></i> Exit
                </button>
                <div class="text-gray-600">
                    <span id="currentPoseNumber">1</span> of <span id="totalPoses">5</span>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="w-full bg-gray-200 rounded-full h-2 mb-8">
                <div id="sessionProgress" class="gradient-bg h-2 rounded-full" style="width: 0%"></div>
            </div>
            
            <!-- Pose Display -->
            <div class="flex-grow flex flex-col items-center justify-center text-center">
                <h2 id="currentPoseName" class="text-3xl font-bold mb-4"></h2>
                
                <div id="poseImageContainer" class="w-full max-w-md h-64 mb-8 bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center">
                    <!-- Pose image will be inserted here -->
                </div>
                
                <div id="breathingCue" class="text-xl text-indigo-600 mb-8 breathing-animation hidden">
                    <!-- Breathing cue will be inserted here -->
                </div>
                
                <div id="timerDisplay" class="text-6xl font-bold mb-8 gradient-text">
                    00:00
                </div>
                
            <div class="flex space-x-4">
                <button id="pauseBtn" onclick="togglePause()" class="bg-white text-indigo-600 border border-indigo-600 hover:bg-indigo-50 px-6 py-3 rounded-full font-medium transition shadow-sm">
                    <i class="fas fa-pause mr-2"></i> Pause
                </button>
                <button onclick="skipToNext()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-full font-medium transition shadow-lg">
                    Skip <i class="fas fa-forward ml-2"></i>
                </button>
                <button onclick="toggleMute()" class="bg-white text-indigo-600 border border-indigo-600 hover:bg-indigo-50 px-6 py-3 rounded-full font-medium transition shadow-sm">
                    <i id="volumeIcon" class="fas fa-volume-up mr-2"></i> Volume
                </button>
            </div>
            </div>
        </div>
    </div>

    <!-- Session Complete Modal -->
    <div id="sessionCompleteModal" class="fixed inset-0 bg black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl max-w-md w-full mx-4 p-8 text-center">
            <div class="text-6xl text-green-500 mb-4">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 class="text-2xl font-bold mb-2">Session Complete!</h2>
            <p id="sessionDuration" class="text-gray-600 mb-6">You completed a 15 minute session.</p>
            
            <div class="bg-gray-50 rounded-lg p-4 mb-6 text-left">
                <h3 class="font-semibold mb-2">You completed:</h3>
                <ul id="completedPoses" class="list-disc list-inside space-y-1">
                    <!-- Completed poses will be inserted here -->
                </ul>
            </div>
            
            <div class="flex flex-col space-y-3">
                <button onclick="restartSession()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-full font-medium transition shadow-lg">
                    <i class="fas fa-redo mr-2"></i> Restart Session
                </button>
                <button onclick="exitToHome()" class="bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 px-6 py-3 rounded-full font-medium transition">
                    Back to Home
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-heartbeat text-2xl"></i>
                        <span class="text-xl font-bold">FitFlow</span>
                    </div>
                    <p class="mt-2 text-indigo-100">Find your flow, wherever you are.</p>
                </div>
                
                <div class="flex space-x-6">
                    <a href="#" class="hover:text-gray-200 transition">
                        <i class="fab fa-instagram text-xl"></i>
                    </a>
                    <a href="#" class="hover:text-gray-200 transition">
                        <i class="fab fa-twitter text-xl"></i>
                    </a>
                    <a href="#" class="hover:text-gray-200 transition">
                        <i class="fab fa-facebook text-xl"></i>
                    </a>
                </div>
            </div>
            
            <div class="border-t border-indigo-400 mt-8 pt-8 text-center text-indigo-100">
                <p>&copy; 2023 FitFlow. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Sample data for yoga programs
        const yogaPrograms = {
            pranayama: {
                id: "pranayama",
                name: "Pranayama Breathing",
                duration: 15,
                description: "Guided breathing exercises to calm the mind and energize the body. This sequence focuses on ancient yogic breathing techniques that help reduce stress, improve lung capacity, and bring mental clarity.",
                image: "https://images.unsplash.com/photo-1545205597-3d9d02c29597?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",
                sequence: [
                    { name: "Anulom Vilom", duration: 120, breathingCue: "Inhale left, exhale right", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Bhramari", duration: 90, breathingCue: "Inhale deeply, exhale with humming", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Kapalbhati", duration: 180, breathingCue: "Short forceful exhales", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Deep Relaxation", duration: 150, breathingCue: "Slow natural breathing", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" }
                ]
            },
            morning: {
                id: "morning",
                name: "Morning Stretch",
                duration: 20,
                description: "Gentle yoga sequence to wake up your body and prepare for the day. These poses help improve circulation, release overnight stiffness, and set a positive tone for your morning.",
                image: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1520&q=80",
                sequence: [
                    { name: "Cat-Cow", duration: 60, breathingCue: "Inhale for cow, exhale for cat", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Downward Dog", duration: 90, breathingCue: "Deep steady breaths", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Sun Salutation", duration: 180, breathingCue: "Match breath to movement", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Seated Forward Fold", duration: 90, breathingCue: "Inhale lengthen, exhale fold", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" }
                ]
            },
            evening: {
                id: "evening",
                name: "Evening Relaxation",
                duration: 25,
                description: "Calming poses to release tension and prepare for restful sleep. This sequence helps transition from the activity of the day to a state of relaxation, promoting better sleep quality.",
                image: "https://images.unsplash.com/photo-1545389336-cf090694435e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1528&q=80",
                sequence: [
                    { name: "Child's Pose", duration: 120, breathingCue: "Deep belly breaths", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Legs Up the Wall", duration: 180, breathingCue: "Slow natural breathing", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Reclining Twist", duration: 90, breathingCue: "Inhale center, exhale twist", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Corpse Pose", duration: 300, breathingCue: "Complete relaxation", image: "https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" }
                ]
            }
        };

        // Sample data for workout programs
        const workoutPrograms = {
            fullbody: {
                id: "fullbody",
                name: "Full Body Beginner",
                duration: 30,
                description: "Complete workout targeting all major muscle groups for beginners. This routine builds foundational strength with bodyweight exercises and minimal equipment.",
                image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",
                sequence: [
                    { name: "Bodyweight Squats", duration: 60, image: "https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" },
                    { name: "Push-ups", duration: 45, image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Lunges", duration: 60, image: "https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" },
                    { name: "Plank", duration: 45, image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Glute Bridges", duration: 60, image: "https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" }
                ]
            },
            hiit: {
                id: "hiit",
                name: "HIIT Quick Burn",
                duration: 20,
                description: "High intensity interval training to maximize calorie burn in minimal time. This workout alternates between intense bursts of activity and fixed periods of less-intense activity or rest.",
                image: "https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80",
                sequence: [
                    { name: "Jump Squats", duration: 30, image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Burpees", duration: 30, image: "https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" },
                    { name: "Mountain Climbers", duration: 30, image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "High Knees", duration: 30, image: "https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" }
                ]
            },
            core: {
                id: "core",
                name: "Core Strength",
                duration: 25,
                description: "Targeted exercises to build a strong, stable core. A strong core improves posture, reduces back pain, and enhances athletic performance.",
                image: "assets/images/core-strength.jpg",
                sequence: [
                    { name: "Plank", duration: 60, image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Russian Twists", duration: 45, image: "https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" },
                    { name: "Leg Raises", duration: 45, image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" },
                    { name: "Bicycle Crunches", duration: 60, image: "https://images.unsplash.com/photo-1538805060514-97d9cc17730c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" }
                ]
            }
        };

        // Program detail functions
        function showYogaDetails(programId) {
            showProgramDetails(yogaPrograms[programId]);
        }

        function showWorkoutDetails(programId) {
            showProgramDetails(workoutPrograms[programId]);
        }

        function showProgramDetails(program) {
            document.getElementById('programTitle').textContent = program.name;
            document.getElementById('programDescription').textContent = program.description;
            
            const programImage = document.getElementById('programImage');
            programImage.innerHTML = `<img src="${program.image}" alt="${program.name}" class="w-full h-full object-cover">`;
            
            const sequenceList = document.getElementById('programSequence');
            sequenceList.innerHTML = '';
            
            program.sequence.forEach(item => {
                const li = document.createElement('div');
                li.className = 'flex justify-between items-center py-2 px-3 bg-gray-50 rounded';
                li.innerHTML = `
                    <div>
                        <span class="font-medium">${item.name}</span>
                        ${item.breathingCue ? `<span class="text-sm text-gray-500 ml-2">${item.breathingCue}</span>` : ''}
                    </div>
                    <span class="text-gray-500">${Math.floor(item.duration/60)}:${(item.duration%60).toString().padStart(2, '0')}</span>
                `;
                sequenceList.appendChild(li);
            });
            
            document.getElementById('startSessionBtn').setAttribute('data-program', program.id);
            document.getElementById('programDetailModal').classList.remove('hidden');
        }

        function hideProgramDetails() {
            document.getElementById('programDetailModal').classList.add('hidden');
        }

        // Audio functions
        let isMuted = false;
        let yogaAudio, workoutAudio;

        function initAudio() {
            try {
                yogaAudio = document.getElementById('yogaAudio');
                workoutAudio = document.getElementById('workoutAudio');
                
                if (!yogaAudio || !workoutAudio) {
                    throw new Error('Audio elements not found');
                }

                // Initialize audio with error handling
                yogaAudio.addEventListener('error', () => {
                    console.error('Error loading yoga audio');
                });
                
                workoutAudio.addEventListener('error', () => {
                    console.error('Error loading workout audio');
                });
                
                // Set default volume
                yogaAudio.volume = 0.7;
                workoutAudio.volume = 0.7;
            } catch (error) {
                console.error('Audio initialization failed:', error);
            }
        }

        // Initialize audio when DOM is loaded
        document.addEventListener('DOMContentLoaded', initAudio);
    
    function toggleMute() {
        isMuted = !isMuted;
        const icon = document.getElementById('volumeIcon');
        if (isMuted) {
            yogaAudio.volume = 0;
            workoutAudio.volume = 0;
            icon.className = 'fas fa-volume-mute mr-2';
        } else {
            yogaAudio.volume = 0.7;
            workoutAudio.volume = 0.7;
            icon.className = 'fas fa-volume-up mr-2';
        }
    }

        // Session functions
        let currentSession = null;
        let currentPoseIndex = 0;
        let timerInterval;
        let timeRemaining = 0;
        let isPaused = false;

        function stopAllAudio() {
            try {
                if (yogaAudio) {
                    yogaAudio.pause();
                    yogaAudio.currentTime = 0;
                }
                if (workoutAudio) {
                    workoutAudio.pause();
                    workoutAudio.currentTime = 0;
                }
            } catch (error) {
                console.error('Error stopping audio:', error);
            }
        }

        function startSession() {
            console.log('Attempting to start session...');
            try {
                // Stop any currently playing audio first
                stopAllAudio();
                
                const startBtn = document.getElementById('startSessionBtn');
                if (!startBtn) throw new Error('Start button not found');
                
                const programId = startBtn.getAttribute('data-program');
                if (!programId) throw new Error('No program ID found');
                
                currentSession = yogaPrograms[programId] || workoutPrograms[programId];
                if (!currentSession) throw new Error('No session found for program ID: ' + programId);

                const sessionPage = document.getElementById('sessionPage');
                if (!sessionPage) throw new Error('Session page element not found');

                // Initialize all required elements
                const requiredElements = [
                    'currentPoseNumber', 'totalPoses', 'currentPoseName',
                    'poseImageContainer', 'breathingCue', 'timerDisplay',
                    'sessionProgress'
                ];
                
                requiredElements.forEach(id => {
                    if (!document.getElementById(id)) {
                        throw new Error(`Required element #${id} not found`);
                    }
                });

                // Initialize session
                currentPoseIndex = 0;
                document.getElementById('totalPoses').textContent = currentSession.sequence.length;
                updatePoseDisplay();
                
                document.getElementById('programDetailModal').classList.add('hidden');
                sessionPage.classList.remove('hidden');
                
                startTimer();
                
                // Play appropriate audio
                try {
                    if (yogaPrograms[programId] && yogaAudio) {
                        yogaAudio.currentTime = 0;
                        yogaAudio.play().catch(e => {
                            console.error('Yoga audio play failed:', e);
                            // Fallback to workout audio if yoga fails
                            if (workoutAudio) {
                                workoutAudio.currentTime = 0;
                                workoutAudio.play().catch(e => console.error('Fallback audio play failed:', e));
                            }
                        });
                    } else if (workoutAudio) {
                        workoutAudio.currentTime = 0;
                        workoutAudio.play().catch(e => console.error('Workout audio play failed:', e));
                    }
                } catch (audioError) {
                    console.error('Audio playback error:', audioError);
                    // Continue session even if audio fails
                }
                
                console.log('Session started successfully');
            } catch (error) {
                console.error('Failed to start session:', error);
                alert('Failed to start session: ' + error.message);
            }
        }

        function updatePoseDisplay() {
            const pose = currentSession.sequence[currentPoseIndex];
            document.getElementById('currentPoseNumber').textContent = currentPoseIndex + 1;
            document.getElementById('currentPoseName').textContent = pose.name;
            
            const poseImageContainer = document.getElementById('poseImageContainer');
            poseImageContainer.innerHTML = `<img src="${pose.image}" alt="${pose.name}" class="w-full h-full object-cover">`;
            
            const breathingCue = document.getElementById('breathingCue');
            if (pose.breathingCue) {
                breathingCue.textContent = pose.breathingCue;
                breathingCue.classList.remove('hidden');
            } else {
                breathingCue.classList.add('hidden');
            }
            
            timeRemaining = pose.duration;
            updateTimerDisplay();
            
            // Update progress bar
            const progressPercent = (currentPoseIndex / currentSession.sequence.length) * 100;
            document.getElementById('sessionProgress').style.width = `${progressPercent}%`;
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timerDisplay').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                if (!isPaused && timeRemaining > 0) {
                    timeRemaining--;
                    updateTimerDisplay();
                    
                    if (timeRemaining === 0) {
                        skipToNext();
                    }
                }
            }, 1000);
        }

        function togglePause() {
            isPaused = !isPaused;
            const pauseBtn = document.getElementById('pauseBtn');
            
            if (isPaused) {
                pauseBtn.innerHTML = '<i class="fas fa-play mr-2"></i> Resume';
                pauseBtn.classList.remove('border-indigo-600', 'text-indigo-600');
                pauseBtn.classList.add('bg-indigo-600', 'text-white');
            } else {
                pauseBtn.innerHTML = '<i class="fas fa-pause mr-2"></i> Pause';
                pauseBtn.classList.add('border-indigo-600', 'text-indigo-600');
                pauseBtn.classList.remove('bg-indigo-600', 'text-white');
            }
        }

        function skipToNext() {
            currentPoseIndex++;
            
            if (currentPoseIndex < currentSession.sequence.length) {
                updatePoseDisplay();
            } else {
                endSession();
            }
        }

        function endSession() {
            clearInterval(timerInterval);
            
            const completedPosesList = document.getElementById('completedPoses');
            completedPosesList.innerHTML = '';
            
            currentSession.sequence.forEach(pose => {
                const li = document.createElement('li');
                li.textContent = pose.name;
                completedPosesList.appendChild(li);
            });
            
            document.getElementById('sessionDuration').textContent = 
                `You completed a ${currentSession.duration} minute session.`;
            
            document.getElementById('sessionPage').classList.add('hidden');
            document.getElementById('sessionCompleteModal').classList.remove('hidden');
        }

        function restartSession() {
            document.getElementById('sessionCompleteModal').classList.add('hidden');
            startSession();
        }

        function exitSession() {
            clearInterval(timerInterval);
            document.getElementById('sessionPage').classList.add('hidden');
            // Stop all audio
            if (yogaAudio) {
                yogaAudio.pause();
                yogaAudio.currentTime = 0;
            }
            if (workoutAudio) {
                workoutAudio.pause();
                workoutAudio.currentTime = 0;
            }
        }

        function exitToHome() {
            document.getElementById('sessionCompleteModal').classList.add('hidden');
        }
    </script>
</body>
</html>
